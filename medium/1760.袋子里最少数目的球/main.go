package main

import (
	"fmt"
)

//ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå…¶ä¸­ nums[i] è¡¨ç¤ºç¬¬ i ä¸ªè¢‹å­é‡Œçƒçš„æ•°ç›®ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªæ•´æ•° maxOperations ã€‚
//
// ä½ å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œè‡³å¤š maxOperations æ¬¡ï¼š
//
//
// é€‰æ‹©ä»»æ„ä¸€ä¸ªè¢‹å­ï¼Œå¹¶å°†è¢‹å­é‡Œçš„çƒåˆ†åˆ° 2 ä¸ªæ–°çš„è¢‹å­ä¸­ï¼Œæ¯ä¸ªè¢‹å­é‡Œéƒ½æœ‰ æ­£æ•´æ•° ä¸ªçƒã€‚
//
//
//
// æ¯”æ–¹è¯´ï¼Œä¸€ä¸ªè¢‹å­é‡Œæœ‰ 5 ä¸ªçƒï¼Œä½ å¯ä»¥æŠŠå®ƒä»¬åˆ†åˆ°ä¸¤ä¸ªæ–°è¢‹å­é‡Œï¼Œåˆ†åˆ«æœ‰ 1 ä¸ªå’Œ 4 ä¸ªçƒï¼Œæˆ–è€…åˆ†åˆ«æœ‰ 2 ä¸ªå’Œ 3 ä¸ªçƒã€‚
//
//
//
//
// ä½ çš„å¼€é”€æ˜¯å•ä¸ªè¢‹å­é‡Œçƒæ•°ç›®çš„ æœ€å¤§å€¼ ï¼Œä½ æƒ³è¦ æœ€å°åŒ– å¼€é”€ã€‚
//
// è¯·ä½ è¿”å›è¿›è¡Œä¸Šè¿°æ“ä½œåçš„æœ€å°å¼€é”€ã€‚
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
//
//è¾“å…¥ï¼šnums = [9], maxOperations = 2
//è¾“å‡ºï¼š3
//è§£é‡Šï¼š
//- å°†è£…æœ‰ 9 ä¸ªçƒçš„è¢‹å­åˆ†æˆè£…æœ‰ 6 ä¸ªå’Œ 3 ä¸ªçƒçš„è¢‹å­ã€‚[9] -> [6,3] ã€‚
//- å°†è£…æœ‰ 6 ä¸ªçƒçš„è¢‹å­åˆ†æˆè£…æœ‰ 3 ä¸ªå’Œ 3 ä¸ªçƒçš„è¢‹å­ã€‚[6,3] -> [3,3,3] ã€‚
//è£…æœ‰æœ€å¤šçƒçš„è¢‹å­é‡Œè£…æœ‰ 3 ä¸ªçƒï¼Œæ‰€ä»¥å¼€é”€ä¸º 3 å¹¶è¿”å› 3 ã€‚
//
//
// ç¤ºä¾‹ 2ï¼š
//
//
//è¾“å…¥ï¼šnums = [2,4,8,2], maxOperations = 4
//è¾“å‡ºï¼š2
//è§£é‡Šï¼š
//- å°†è£…æœ‰ 8 ä¸ªçƒçš„è¢‹å­åˆ†æˆè£…æœ‰ 4 ä¸ªå’Œ 4 ä¸ªçƒçš„è¢‹å­ã€‚[2,4,8,2] -> [2,4,4,4,2] ã€‚
//- å°†è£…æœ‰ 4 ä¸ªçƒçš„è¢‹å­åˆ†æˆè£…æœ‰ 2 ä¸ªå’Œ 2 ä¸ªçƒçš„è¢‹å­ã€‚[2,4,4,4,2] -> [2,2,2,4,4,2] ã€‚
//- å°†è£…æœ‰ 4 ä¸ªçƒçš„è¢‹å­åˆ†æˆè£…æœ‰ 2 ä¸ªå’Œ 2 ä¸ªçƒçš„è¢‹å­ã€‚[2,2,2,4,4,2] -> [2,2,2,2,2,4,2] ã€‚
//- å°†è£…æœ‰ 4 ä¸ªçƒçš„è¢‹å­åˆ†æˆè£…æœ‰ 2 ä¸ªå’Œ 2 ä¸ªçƒçš„è¢‹å­ã€‚[2,2,2,2,2,4,2] -> [2,2,2,2,2,2,2,2] ã€‚
//è£…æœ‰æœ€å¤šçƒçš„è¢‹å­é‡Œè£…æœ‰ 2 ä¸ªçƒï¼Œæ‰€ä»¥å¼€é”€ä¸º 2 å¹¶è¿”å› 2 ã€‚
//
//
// ç¤ºä¾‹ 3ï¼š
//
//
//è¾“å…¥ï¼šnums = [7,17], maxOperations = 2
//è¾“å‡ºï¼š7
//
//
//
//
// æç¤ºï¼š
//
//
// 1 <= nums.length <= 10âµ
// 1 <= maxOperations, nums[i] <= 10â¹
//
//
// Related Topics æ•°ç»„ äºŒåˆ†æŸ¥æ‰¾ ğŸ‘ 101 ğŸ‘ 0

// author: fengyuwusong
// create time: 2022-12-20 00:05:36
// leetcode submit region begin(Prohibit modification and deletion)
func minimumSize(nums []int, maxOperations int) int {
	// é—®é¢˜è½¬æ¢ => ç»™å®šæ¯ä¸ªè¢‹å­çš„æœ€å¤§å€¼(æœ€å°å¼€é”€) x, è®¡ç®—æ‹†åˆ†æ¬¡æ•° y
	// å…¶ä¸­yå…·æœ‰å•è°ƒæ€§ï¼ˆçƒè¶Šå¤šï¼Œåˆ™æ“ä½œæ¬¡æ•°è¶Šå°‘ï¼‰
	// å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ–¹å¼è®¡ç®—åœ¨æ»¡è¶³ y = maxOperations æ—¶ï¼Œ x çš„æƒ…å†µ
	left, right := 1, 1
	for _, num := range nums {
		right = max(num, right)
	}
	for left < right {
		// è®¡ç®—ä¸­ä½å€¼ æœ€å°å¼€é”€
		mid := left + (right-left)/2
		// å½“å‰æ¬¡æ•°å°äºç­‰äºæœ€å¤§æ“ä½œæ•° åˆ™è¯´æ˜å¯ä»¥åˆ†çš„æ›´å° å³è¾¹ç•Œå‰ç§»
		if getOperationsByMaxNum(mid, nums) <= maxOperations {
			right = mid
		} else {
			// åä¹‹å·¦è¾¹ç•Œåç§» ä¸èƒ½ç­‰äº mid
			left = mid + 1
		}
	}
	return left
}

func max(a, b int) int {
	if a > b {
		return a
	}
	return b
}

func getOperationsByMaxNum(maxNum int, nums []int) int {
	//æ¯ä¸ªè¢‹å­çš„æ‹†åˆ†æ¬¡æ•° = (nums[i]-1)//x
	var result int
	for _, num := range nums {
		if num <= maxNum {
			continue
		}
		result += (num - 1) / maxNum
	}
	return result
}

//leetcode submit region end(Prohibit modification and deletion)

func main() {
	fmt.Println(minimumSize([]int{9}, 2))
	fmt.Println(minimumSize([]int{2, 4, 8, 2}, 4))
	fmt.Println(minimumSize([]int{7, 17}, 2))
}
